{% extends 'TapirAbmBundle::editar.html.twig' %}

{% block pagina_titulo %}{% if res.Entidad.id %}{{ res.Entidad }}{% else %}Nueva asociación de requisito{% endif %}{% endblock %}

{% block pagina_contenido %}
<div class="row form-group">
	<label class="col-xs-4 col-sm-2 control-label">Requisito</label>
	<div class="col-xs-6 col-sm-10">{{ form_widget(res.FormularioEditar.Requisito) }}</div>
</div>

<div class="row form-group">
	<label class="col-xs-4 col-sm-2 control-label">Etapa</label>
	<div class="col-xs-6 col-sm-10">{{ form_widget(res.FormularioEditar.Etapa) }}</div>
</div>

<div class="row form-group">
	<label class="col-xs-4 col-sm-2 control-label">De</label>
	<div class="col-xs-6 col-sm-4">{{ form_widget(res.FormularioEditar.Propiedad) }}</div>
	
	<label class="col-xs-4 col-sm-2 control-label">Instancia</label>
	<div class="col-xs-6 col-sm-4">{{ form_widget(res.FormularioEditar.Instancia) }}</div>
</div>

<div class="row form-group">
	<label class="hidden-xs col-xs-2 control-label">Tipo</label>
	<div class="col-xs-10">{{ form_widget(res.FormularioEditar.Tipo) }}</div>

	<div class="container-fluid hidden" id="yacare_tramitesbundle_condicion_opcional">
    	<div class="row form-group">
    		<div class="col-xs-12 col-sm-10 col-sm-offset-2">
    			<h3>Condición</h3>
    			<p>Si este requisito se aplica sólo cuando se cumple cierta condición, debe 
        			especificar la condición como una expresión lógica que pueda evaluarse
        			como verdadera o falsa, por ejemplo "Titular.Edad es mayor que 18".
        			También debe proporcionar una explicación textual de la condición, como
        			"El titular es mayor de edad".</p>
    		</div>
		</div>
		<div class="row form-group">
    		<label class="hidden-xs col-xs-2 control-label">Sí</label>
    		<div class="col-xs-4">{{ form_widget(res.FormularioEditar.CondicionQue) }}</div>
    		<div class="col-xs-2">{{ form_widget(res.FormularioEditar.CondicionEs) }}</div>
    		<div class="col-xs-4">{{ form_widget(res.FormularioEditar.CondicionCuanto) }}</div>
    	</div>
    	<div class="row form-group">
    		<label class="hidden-xs col-xs-2 control-label">Explicación</label>
    		<div class="col-xs-10">{{ form_widget(res.FormularioEditar.Obs) }}</div>
    	</div>
		<hr />
	</div>
</div>

{{ form_rest(res.FormularioEditar) }}
    
<script>
$(function() {
	$('#asociacion_requisito_Tipo').change(function() {
		if($('#asociacion_requisito_Tipo').val() == 2) {
			$('#yacare_tramitesbundle_condicion_opcional').removeClass('hidden');
		} else {
			$('#yacare_tramitesbundle_condicion_opcional').addClass('hidden');
		}
	});
	$('#asociacion_requisito_Tipo').trigger('change');
});


</script>
{% endblock pagina_contenido %}



{% extends 'YacareBaseBundle::layout.html.twig' %}

{% block title %}Relevamientos - Asignaciones{% endblock %}

{% block content_header '' %}

{% block content %}
{% if entities is empty %}
<div>
<div class="alert alert-success">
    <button type="button" class="close" data-dismiss="alert">×</button>
    <strong><p>No hay asignaciones.</p></strong>
    <p>Para realizar asignaciones utilice los botones de &quot;Asignar macizo&quot; o &quot;Asignar calle&quot;.
    </p>
</div>
</div>
{% else %}
<table class="table table-striped">
    <thead>
        <tr>
            <th>Encargado</th>
            <th>Asignación</th>
            <th>Resultados</th>
        </tr>
    </thead>
    <tbody>
    {% for entity in entities %}
        <tr>
            <td><a href="{{ path('yacare_inspeccion_relevamientoasignacion_editar', { 'id': entity.Id }) }}">{{ entity.Encargado }}</a></td>
            <td>{% if entity.Calle %}Calle {{ entity.Calle }}{% else %}Sección {{ entity.Seccion }}, macizo {{ entity.Macizo }}{% endif %}</td>
            <td>{% if entity.DetallesCantidad %}{{ entity.DetallesResultadosCantidad }} de {{ entity.DetallesCantidad }}{% else %}-{% endif %}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{# display navigation #}
<div class="navigation">
    {{ knp_pagination_render(entities) }}
</div>

{% endif %}

<a class="btn" href="{{ path('yacare_inspeccion_relevamientoasignacion_asignarmacizo', { 'id': id }) }}"><i class="icon-map-marker"></i> Asignar macizo</a>
<a class="btn" href="{{ path('yacare_inspeccion_relevamientoasignacion_asignarcalle', { 'id': id }) }}"><i class="icon-map-marker"></i> Asignar calle</a>
&nbsp;
&nbsp;
<a href="{{ path('yacare_inspeccion_relevamientoasignacionresultado_listarrelevamiento', { 'id': id }) }}" class="btn"><i class="icon-list"></i> Ver resultados</a>
&nbsp;
<a href="{{ path('yacare_inspeccion_relevamiento_editar', { 'id': id }) }}" class="btn"><i class="icon-edit"></i> Editar relevamiento</a>
{% endblock %}
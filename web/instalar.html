<!DOCTYPE HTML PUBliC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>Yacaré - Instalación</title>
	<meta name="author" content="Ernesto Carrea">
</head>

<body lang="es-AR" dir="ltr">

    <h1>Instalación de Yacaré para desarrollo</h1>

    <h2>En Linux</h2>

    <ol>
	<li>Es necesario instalar los siguientes paquetes: 
        <pre>php5 php5-cli php5-gd php5-mysqlnd php5-intl php5-ldap php5-apcu php5-xdebug php5-mbstring phpunit subversion git</pre>
        En Fedora/CentOS los paquetes php5-* se llaman php-* y php-phpunit-PHPUnit.
        En Ubuntu el paquete php5-mbstring no existe ya que viene incorporado en PHP.
        También es necesario instalar un servidor MariaDB o MySQL si no se tiene uno.

        <li>Descargar desde la <a href="http://symfony.com/download" target="_blank">
        página de Symfony</a> la versión estándar más reciente
	(Symfony_Standard_Vendors_2.4.2.tgz al momento de escribir este
	documento).

	<li>Abrir una consola de comandos para los siguientes pasos.

        <li>Crear una carpeta para la aplicación e ingresar a la misma, con los siguientes comandos:
	<pre>mkdir yacare</pre>
	<pre>cd yacare</pre>
	
        <li>Obtener Yacaré desde el repositorio SVN, con el siguiente comando:
	<pre>svn co http://webmuni/svn/yacare/trunk ./</pre>
	
        <li>Descomprimir la distribución de Symfony descargada, sin remplazar los archivos existentes:
	<pre>tar --strip-components=1 -zxkf /carpeta_de_descarga/Symfony_Standard_Vendors_2.4.2.tgz Symfony</pre>
	
        <li>Descargar Composer:
	<pre>php -r &quot;eval('?&gt;'.file_get_contents('https://getcomposer.org/installer'));&quot;</pre>
	
        <li>Instalar y actualizar los bundles:
	<pre>php composer.phar update</pre>
	
        <li>Crear la base de datos y el usuario de acceso:
	<pre>mysql -uroot -p</pre>
	<pre>CREATE DATABASE yacadev;</pre>
	<pre>GRANT ALL ON yacadev.* TO 'yacadev'@'localhost' IDENTIFIED BY '123456';</pre>
	<pre>GRANT ALL ON yacadev.* TO 'yacadev'@'%' IDENTIFIED BY '123456';</pre>
        <pre>CREATE DATABASE yacatest;</pre>
	<pre>GRANT ALL ON yacatest.* TO 'yacatest'@'localhost' IDENTIFIED BY '123456';</pre>
        <pre>GRANT ALL ON yacatest.* TO 'yacatest'@'%' IDENTIFIED BY '123456';</pre>
	<pre>EXIT;</pre>
	
        <li>Si se dispone de datos de prueba, se los puede incorporar:
	<pre>mysql -uyacadev -p123456 --database=yacadev &lt; yacadev.sql</pre>
        
        <li>Actualizar las estructuras de datos
	<pre>php app/console doctrine:schema:update --force</pre>
	
        <li>Ejecutar el servidor web de desarrollo:
	<pre>php app/console server:run</pre>
    </ol>
    
    <h2>En Windows</h2>
    <ol>
        <li>Descargar e instalar su distribución favorita de Linux, por ejemplo Fedora.</li>
        <li>Continuar desde el paso 1 de la sección anterior.</li>
    </ol>

</body>
</html>